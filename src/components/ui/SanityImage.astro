---
import type { SanityAsset } from '@sanity/image-url/lib/types/types'
import { Image, inferRemoteSize } from 'astro:assets'
import { urlForImage } from '../../sanity/lib/urlForImage'

export interface Props {
  image: SanityAsset
  alt: string
  className?: string
  customWidth?: number
  customHeight?: number
}

const { image, alt, className, customWidth, customHeight } = Astro.props

const url = urlForImage(image).url()
const { width, height } = await inferRemoteSize(url)
---

<Image
  class={`${className} rounded-none shadow-none`}
  src={url}
  alt={alt}
  width={customWidth || width}
  height={customHeight || height}
/>
